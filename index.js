const data =  [
    {   
        id: 1,
        artist: "Casiopea",
        title: "Mint Jams",
        color: "white",
        isPlayed: false,
        imageUrl: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSY_Vt_9uvqNdAD5dYjn0DIbqB0NafO8y5ogYRqw00GYA&s",
        youtubeUrl: "https://www.youtube.com/watch?v=6GEI3PpXEAo"
    },

    {   
        id: 2,
        artist: "Ryo Fukui",
        title: "Scenery",
        color: "red",
        isPlayed: false,
        imageUrl: "https://soulbrother.com/wp-content/uploads/2018/08/100784.jpg",
        youtubeUrl: "https://www.youtube.com/watch?v=Hrr3dp7zRQY"
    },

    {   
        id: 3,
        artist: "Kindaichi Band",
        title: "The adventure of Kohsuke Kindaichi",
        color: "black",
        isPlayed: false,
        imageUrl: "https://4.bp.blogspot.com/-y6c_SGehlm0/XAmxpvRV7JI/AAAAAAAG9J8/RjbgAb9AWBovhhuwZekSwBrYZs11hbCGgCLcBGAs/s1600/R-7686012-1446719846-5179.jpeg.jpg",
        youtubeUrl: "https://www.youtube.com/watch?v=_-LZudHEk7k"
    },

    {   
        id: 4,
        artist: "Herbie Hancock",
        title: "Head Hunters",
        color: "blue",
        isPlayed: false,
        imageUrl: "https://upload.wikimedia.org/wikipedia/en/5/54/Herbie-Hancock-Head-Hunters.png",
        youtubeUrl: "https://youtu.be/3m3qOD-hhrQ"
    },
    
    {   
        id: 5,
        artist: "Jiro Inagaki",
        title: "Funky Stuff",
        color: "black",
        isPlayed: false,
        imageUrl: "https://sun9-72.userapi.com/impg/EMPib3qwajVChRnYyA-UKj8uUxgrrqkG6rdVmA/UjpKb8LIiAk.jpg?size=600x600&quality=95&sign=6f30fa2695ef573bc1ec4a119610821e&c_uniq_tag=5wsbPVXFqpZrw8AaW4HvW9nTIfwqRbzQ6sTixw8G--g&type=album",
        youtubeUrl: "https://youtu.be/kjxxVkSd0XA"
    },
    
    {   
        id: 6,
        artist: "Jiro Inagaki",
        title: "In The Groove",
        color: "white",
        isPlayed: false,
        imageUrl: "https://i.discogs.com/k4sOXtPJx3dxp57VxT86dJ5rNvSc9nuqY1EaV5Au2_Y/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE1Mjg4/ODI1LTE3MDg2MTA3/MzEtMzA0My5qcGVn.jpeg",
        youtubeUrl: "https://www.youtube.com/watch?v=tJ6fyxjF-tU"
    },
    
    {   
        id: 7,
        artist: "Cassiopea",
        title: "Cassiopea",
        color: "black",
        isPlayed: false,
        imageUrl: "https://upload.wikimedia.org/wikipedia/en/c/ca/CasiopeaSelfTitleAlbumCover.jpg",
        youtubeUrl: "https://www.youtube.com/watch?v=tZd4jjhLkWg"
    },
    
    {   
        id: 8,
        artist: "Yuji Ohno",
        title: "Cosmos",
        color: "black",
        isPlayed: false,
        imageUrl: "https://i.discogs.com/S6vsF-luktU1HhklocwukMhrqvPtDKXmxsmBg1uKrXw/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE0ODAy/NjItMTIyMjg1MTky/OC5qcGVn.jpeg",
        youtubeUrl: "https://www.youtube.com/watch?v=np6zhvdwako"
    },
    
    {   
        id: 9,
        artist: "Ryo Fukui",
        title: "Mellow Dream",
        color: "white",
        isPlayed: false,
        imageUrl: "https://f4.bcbits.com/img/0012930481_71.jpg",
        youtubeUrl: "https://www.youtube.com/watch?v=KxlvMmUjpTY"
    },
    
    {   
        id: 10,
        artist: "Nucleus",
        title: "Alleycat",
        color: "yellow",
        isPlayed: false,
        imageUrl: "https://i.discogs.com/Docl3MeGs-47HNncEzs6XIPSkkOLrSgafrbLFPlY9BA/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTIzNjQw/NjM4LTE2NTU3NTQz/OTUtNDQ1OS5qcGVn.jpeg",
        youtubeUrl: "https://www.youtube.com/watch?v=giYvwLM-JEo"
    },
    
    {   
        id: 11,
        artist: "Grover Washington",
        title: "Feels So Good",
        color: "blue",
        isPlayed: false,
        imageUrl: "https://upload.wikimedia.org/wikipedia/en/2/29/Feels_So_Good_Grover.jpeg",
        youtubeUrl: "https://www.youtube.com/watch?v=520vLSJtuTg"
    },
    
    {   
        id: 12,
        artist: "Grover Washington",
        title: "A Secret Place",
        color: "black",
        isPlayed: false,
        imageUrl: "https://upload.wikimedia.org/wikipedia/en/a/ab/ASecretPlace.JPG",
        youtubeUrl: "https://www.youtube.com/watch?v=A-ESa_Nnv0s"
    },
    
    {   
        id: 13,
        artist: "Grover Washington",
        title: "Winelight",
        color: "white",
        isPlayed: false,
        imageUrl: "https://upload.wikimedia.org/wikipedia/en/e/e7/Winelight.jpg",
        youtubeUrl: "https://www.youtube.com/watch?v=zAxobRJVYEQ"
    },
    
    {   
        id: 14,
        artist: "Grover Washington",
        title: "Mister Magic",
        color: "black",
        isPlayed: false,
        imageUrl: "https://i.scdn.co/image/ab67616d0000b273dd15e56df5c95b6bb1c8e1d5",
        youtubeUrl: "https://www.youtube.com/watch?v=EmucX5avn8M"
    },
    
    {   
        id: 15,
        artist: "Jiro Inagaki",
        title: "Blockbuster",
        color: "white",
        isPlayed: false,
        imageUrl: "https://e.snmc.io/i/1200/s/74ba03bbc757aad37f6b05a3698b6b09/2627318",
        youtubeUrl: "https://www.youtube.com/watch?v=wzkL5SAEgi4"
    },

    {   
        id: 16,
        artist: "Himiko Kikuchi",
        title: "Flying Beagle",
        color: "black",
        isPlayed: false,
        imageUrl: "https://cdsvinyljapan.com/cdn/shop/files/4547366657739.jpg?v=1707068805",
        youtubeUrl: "https://youtu.be/HHOn8u-c2wk"
    },

    {   
        id: 17,
        artist: "Masayoshi Takanaka",
        title: "An Insatiable High",
        color: "white",
        isPlayed: false,
        imageUrl: "https://i.discogs.com/9CNY1HNQZdu2I_58OOv6wi-TNPjjbzI15b4lYn6yOqU/rs:fit/g:sm/q:90/h:600/w:590/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTI0MTYy/NTkwLTE2NjAxNjc3/NzAtNDMzNy5qcGVn.jpeg",
        youtubeUrl: "https://www.youtube.com/watch?v=PQDGuUc-yrk"
    },

    {   
        id: 18,
        artist: "Masayoshi Takanaka",
        title: "First Light",
        color: "white",
        isPlayed: false,
        imageUrl: "https://i.pinimg.com/736x/5c/b5/fb/5cb5fb947e3073189a6f8395872a89fa.jpg",
        youtubeUrl: "https://youtu.be/o1rclw8Rugs"
    },

    {   
        id: 19,
        artist: "-",
        title: "",
        color: "",
        isPlayed: false,
        imageUrl: "",
        youtubeUrl: ""
    },
]

function Shelf(props) {
    let items = data.map(item => {
        return (
        <Record
            key={item.id}
            item={item}
            handleClick={props.handleClick}
            id={item.id}
            isPlayed={item.isPlayed}
        />
        )})

    return (

        <div className="shelf">
            {items}
        </div>
    )
}

function Jukebox(props) {
    const playedRecord = props.state.find((Record) => Record.isPlayed ? Record.imageUrl: false)

    return (
    <div className="jukebox">
        <div className="jukebox__head">
            <div className="jukebox__record">
                {playedRecord ? <img className="jukebox__record-image" src={playedRecord.imageUrl} />:
                 <img className="jukebox__record-image" src="https://rms4.kufar.by/v1/list_thumbs_2x/adim1/0f5fb9d8-8f40-4ccc-af45-4aace9a6d7c8.jpg" />}
            </div>
        </div>
        <div className="jukebox__body">
            <div className="jukebox__internal">
                <div class="ticker-container">
                <div class="ticker-content">
                    {playedRecord ? <span>{ playedRecord.artist} - {playedRecord.title}</span>:
                    <span>Jukebox</span>
                    }
                </div>
                </div>
            </div>
        </div>
        <div className="jukebox__leg jukebox__leg--left"></div>
        <div className="jukebox__leg jukebox__leg--right"></div>
    </div>
    )
}

function Record(props) {
 
    return (
        <div className="record" key={props.item.id}>
          <div className="face spine white">
            <div className="rotated-text">{props.item.artist}</div>
          </div>
            <div className="face cover" onClick={()=>props.handleClick(props.id)}>    
                {
                    props.item.youtubeUrl ?      
                    <a href={props.item.youtubeUrl} target="_blank" rel="noopener noreferrer">
                        <img src={props.item.imageUrl}/>
                    </a>: 
                    <a>
                        <img src={props.item.imageUrl}/>
                    </a>
                }
            </div>
        </div>
    )
}

function App() {
    
    const [nowPlaying, setNowPlaying] = React.useState(data)

    function handleClick(id) {
        setNowPlaying(prevNowPlaying => {
            return prevNowPlaying.map((Record) => {
                return Record.id === id ? {...Record, isPlayed: true}: {...Record, isPlayed: false}
            })
        })
    }

    return (
        <div>
        <Shelf handleClick={handleClick}/>
        <Jukebox state={nowPlaying}/>
        </div>
    )
}

ReactDOM.render(<App />, document.getElementById("root"))